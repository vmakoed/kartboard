<div class="flex flex-col justify-center text-4xl font-extrabold tracking-[-0.04em] text-center h-50 py-8">
  Past races
</div>
<div class="flex flex-col flex-grow overflow-y-auto mb-8">
  <% if @contests.present? %>
    <div class="overflow-y-auto">
      <ul role="list" class="-mb-8 px-6">
        <% @contests[0..-2].each do |contest| %>
          <li>
            <div class="relative pb-8">
              <span class="absolute left-5 top-10 -ml-px h-full w-0.5 bg-gray-200" aria-hidden="true"></span>
              <div class="relative flex space-x-3">
                <div>
                  <div class="relative inline-flex items-center justify-center w-10 h-10 overflow-hidden bg-gray-100 rounded-full">
                    <span class="font-medium text-gray-600 dark:text-gray-300"><%= contest.winners.first.user.name.split.map(&:first).join %></span>
                  </div>
                </div>
                <div class="flex min-w-0 flex-1 justify-between space-x-4 pt-1.5">
                  <div>
                    <% contest.winners.each do |contestant| %>
                      <p class="text-gray-500"><span class="font-medium text-gray-900"><%= contestant.user.name %></span>: <%= '%+d' % contestant.score_log.score_difference %> pts</p>
                    <% end %>
                    <% contest.losers.each do |contestant| %>
                      <p class="text-gray-500"><%= contestant.user.name %>: <%= '%+d' % contestant.score_log.score_difference %> pts</p>
                    <% end %>
                  </div>
                  <div class="whitespace-nowrap text-right text-sm text-gray-500">
                    <time datetime="2020-09-20"><%= contest.created_at.strftime("%b %d") %></time>
                  </div>
                </div>
              </div>
            </div>
          </li>
        <% end %>
        <li>
          <div class="relative pb-8">
            <div class="relative flex space-x-3">
              <div>
                <div class="relative inline-flex items-center justify-center w-10 h-10 overflow-hidden bg-gray-100 rounded-full">
                  <span class="font-medium text-gray-600 dark:text-gray-300"><%= @contests.last.winners.first.user.name.split.map(&:first).join %></span>
                </div>
              </div>
              <div class="flex min-w-0 flex-1 justify-between space-x-4 pt-1.5">
                <div>
                  <% @contests.last.winners.each do |contestant| %>
                    <p class="text-gray-500"><span class="font-medium text-gray-900"><%= contestant.user.name %></span>: <%= '%+d' % contestant.score_log.score_difference %> pts</p>
                  <% end %>
                  <% @contests.last.losers.each do |contestant| %>
                    <p class="text-gray-500"><%= contestant.user.name %>: <%= '%+d' % contestant.score_log.score_difference %> pts</p>
                  <% end %>
                </div>
                <div class="whitespace-nowrap text-right text-sm text-gray-500">
                  <time datetime="2020-09-20"><%= @contests.last.created_at.strftime("%b %d") %></time>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  <% end %>
</div>
<div class="flex flex-col flex-grow justify-end px-6 pb-8 space-y-4">
  <%= link_to "New race",
              new_contest_path,
              class: "bg-slate-900 hover:bg-slate-700 text-white font-semibold py-3 px-4 rounded-lg w-full sm:w-48 sm:mx-auto text-xl text-center"
  %>
  <%= link_to "Back to leaderboard",
              root_path,
              class: "bg-white/0 text-slate-900 ring-1 ring-slate-900/10 hover:bg-white/25 hover:ring-slate-900/15 font-semibold py-3 px-4 rounded-lg w-full sm:w-48 sm:mx-auto text-xl mt-5 text-center"
  %>
</div>
